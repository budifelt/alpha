<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Budi Indra Ilham ‚Äî Profile / CV</title>
  <meta name="description" content="A concise one-page profile, portfolio, and CV." />
  <meta property="og:title" content="Budi Indra Ilham ‚Äî Profile / CV" />
  <meta property="og:description" content="A concise one-page profile, portfolio, and CV." />
  <meta property="og:type" content="website" />
  <style>
    /* ============ Design System ============ */
    :root {
      --bg: #f7f8fb;
      --card: #ffffff;
      --text: #121417;
      --text-soft: #4b5563;
      --primary: #2563eb;
      --primary-weak: #dbeafe;
      --border: #e5e7eb;
      --muted: #f1f5f9;
      --badge: #0ea5e9;
      --shadow: 0 10px 30px rgba(2,6,23,0.06);
    }
    [data-theme="dark"] {
      --bg: #0b1220;
      --card: #0f172a;
      --text: #e5e7eb;
      --text-soft: #94a3b8;
      --primary: #60a5fa;
      --primary-weak: #172554;
      --border: #1f2937;
      --muted: #0b1220;
      --badge: #22d3ee;
      --shadow: 0 12px 30px rgba(0,0,0,0.35);
    }

    /* Reset */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 600px at 20% -10%, var(--primary-weak), transparent), var(--bg);
      line-height: 1.6;
    }
    img { max-width: 100%; display: block; }
    a { color: var(--primary); text-decoration: none; }

    /* Layout */
    .container { width: min(1100px, 92%); margin: 0 auto; }
    header.nav {
      position: sticky; top: 0; z-index: 20;
      backdrop-filter: saturate(180%) blur(8px);
      background: color-mix(in oklab, var(--bg) 70%, transparent);
      border-bottom: 1px solid var(--border);
    }
    .nav-inner { display:flex; align-items:center; justify-content:space-between; gap:16px; padding: 14px 0; }
    .brand { display:flex; align-items:center; gap:12px; font-weight: 700; letter-spacing:.2px; }
    .brand .dot { width:10px; height:10px; border-radius:50%; background: var(--primary); box-shadow: 0 0 0 6px color-mix(in oklab, var(--primary) 20%, transparent); }
    .nav-actions { display:flex; align-items:center; gap:8px; }
    .btn {
      display:inline-flex; align-items:center; gap:8px; border:1px solid var(--border);
      padding:10px 12px; border-radius: 12px; background: var(--card); color: var(--text); cursor:pointer;
      box-shadow: var(--shadow); transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .btn:hover { transform: translateY(-2px); }
    .btn.primary { background: var(--primary); color: white; border-color: color-mix(in oklab, var(--primary) 50%, var(--border)); }

    /* Hero */
    .hero { display:grid; grid-template-columns: 1.1fr 1fr; gap: 28px; padding: 28px 0 8px; }
    @media (max-width: 900px){ .hero{ grid-template-columns: 1fr; } }
    .card { background: var(--card); border:1px solid var(--border); border-radius: 18px; padding: 20px; box-shadow: var(--shadow); }
    .avatar {
      width: 110px; aspect-ratio:1; border-radius: 50%; overflow:hidden; border: 4px solid var(--primary-weak);
      box-shadow: 0 12px 30px color-mix(in oklab, var(--primary) 20%, transparent);
    }
    .headline { display:flex; align-items:center; gap:18px; margin-bottom: 10px; }
    h1 { font-size: clamp(1.8rem, 3vw, 2.4rem); line-height:1.2; margin: 0; }
    .title { color: var(--text-soft); font-weight: 600; }
    .pill { display:inline-flex; align-items:center; gap: 8px; padding:6px 10px; border-radius:999px; background: var(--muted); border:1px dashed var(--border); font-size:.9rem; }
    .hero-actions { display:flex; flex-wrap: wrap; gap:10px; margin-top: 14px; }

    /* Sections */
    section { margin: 26px 0; }
    .sec-title { font-size: 1.2rem; margin:0 0 12px; display:flex; align-items:center; gap:10px; }
    .sec-title .bar { width:10px; height:10px; border-radius:3px; background: var(--badge); box-shadow: 0 0 0 6px color-mix(in oklab, var(--badge) 25%, transparent); }

    /* About */
    .about p { margin: 0; color: var(--text-soft); }

    /* Skills */
    .skills { display:flex; flex-wrap:wrap; gap:8px; }
    .badge { background: color-mix(in oklab, var(--badge) 18%, transparent); color: var(--text); border:1px solid color-mix(in oklab, var(--badge) 25%, var(--border)); padding:6px 10px; border-radius: 999px; font-weight:600; }

    /* Timeline */
    .timeline { display:grid; gap:14px; }
    .item { display:grid; grid-template-columns: 120px 1fr; gap: 12px; }
    @media (max-width:700px){ .item{ grid-template-columns: 1fr; } }
    .when { font-weight:700; color: var(--text-soft); }
    .where { font-weight:700; }
    .item p { margin: 6px 0 0; color: var(--text-soft); }

    /* Projects */
    .filters { display:flex; gap:8px; flex-wrap:wrap; margin-bottom: 12px; }
    .filter { padding:8px 12px; border:1px solid var(--border); border-radius: 12px; background: var(--card); cursor:pointer; }
    .filter.active { background: var(--primary); color: white; border-color: color-mix(in oklab, var(--primary) 60%, var(--border)); }

    .projects-wrapper { position: relative; margin-top: 6px; }
    .grid { flex:1; display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px; }
    @media (max-width: 1000px){ .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 640px){ .grid{ grid-template-columns: 1fr; } }

    .project { cursor:pointer; }
    .project:hover{ transform: translateY(-2px); transition: transform .15s ease; }
    .project .thumb { position:relative; aspect-ratio:9/9; background:var(--muted); border-bottom:1px solid var(--border); overflow:hidden; cursor:pointer; }
    .project .thumb .thumb-frame{ position:absolute; inset:0; width:100%; height:100%; border:0; pointer-events:none; }
    .project .thumb .thumb-fallback{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-weight:700; color:var(--text-soft); padding:10px; text-align:center; }
    .project .thumb::after{ content:''; position:absolute; inset:auto 0 0 0; height:44px; background:linear-gradient(to top, rgba(0,0,0,.24), transparent); pointer-events:none; }
    .project .content { padding:14px; }
    .project .tags { display:flex; gap:8px; flex-wrap:wrap; margin-top: 8px; }

    /*/* Slider Arrows overlay di kiri/kanan grid */
    .slider-arrow {
      position:absolute; top:30%; transform: translateY(-50%);
      display:inline-flex; align-items:center; justify-content:center;
      width:44px; height:44px; border-radius:999px; border:1px solid var(--border);
      background: color-mix(in oklab, var(--card) 90%, transparent);
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px) saturate(120%);
      cursor:pointer; z-index:5;
    }
    .slider-arrow.left { left:-8px; }
    .slider-arrow.right { right:-8px; }
    .slider-arrow:disabled { opacity:.45; cursor:not-allowed; }
    @media (max-width: 640px){ .slider-arrow{ width:38px; height:38px; } }

    /* Preview Modal */
    #previewModal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,.6); z-index:100; padding:20px; }
    #previewModal.active{ display:flex; }
    .modal-card{ width:min(1000px,95%); background:var(--card); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); overflow:hidden; display:flex; flex-direction:column; }
    .modal-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 14px; border-bottom:1px solid var(--border); }
    .modal-subhead{ padding:6px 14px; font-size:.9rem; color:var(--text-soft); border-bottom:1px dashed var(--border); }
    .modal-body{ height:70vh; }
    .modal-body iframe{ width:100%; height:100%; border:0; background:var(--muted); }

    /* Contact */
    .contact-grid { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    @media (max-width: 800px){ .contact-grid{ grid-template-columns: 1fr; } }
    .input { width:100%; padding:10px 12px; border:1px solid var(--border); border-radius: 12px; background: var(--card); color: var(--text); }
    textarea.input { height: 120px; resize: vertical; }

    footer { padding: 30px 0 50px; color: var(--text-soft); text-align:center; }

    /* Print (untuk PDF) */
    @media print {
      header.nav, .hero-actions .btn:not(.print), .filters, .pager, .contact-grid, .project .thumb { display:none !important; }
      .card, .project { box-shadow: none; }
      body { background: white; }
      .container { width: 100%; }
    }
  </style>

  <!-- Structured Data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Budi Indra Ilham",
    "jobTitle": "Digital Support",
    "url": "https://contoh-domainmu.com",
    "email": "mailto:emailmu@domain.com",
    "sameAs": ["https://www.linkedin.com/in/budifelt/"]
  }
  </script>
</head>
<body>
  <!-- NAVBAR -->
  <header class="nav">
    <div class="container nav-inner">
      <div class="brand"><span class="dot"></span> <span>Profile / CV</span></div>
      <div class="nav-actions">
        <button class="btn" id="themeBtn" aria-label="Toggle theme">üåì <span class="hide-sm">Theme</span></button>
        <button class="btn print" onclick="window.print()" aria-label="Print / Save PDF">üñ®Ô∏è <span class="hide-sm">Print PDF</span></button>
        <a class="btn primary" href="#contact">‚úâÔ∏è <span class="hide-sm">Contact</span></a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero">
      <div class="card">
        <div class="headline">
          <img class="avatar" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop stop-color='%232563eb' offset='0%'/><stop stop-color='%230ea5e9' offset='100%'/></linearGradient></defs><rect width='100%' height='100%' fill='url(%23g)'/><text x='50%' y='52%' dominant-baseline='middle' text-anchor='middle' font-family='Segoe UI, Arial' font-size='72' fill='white'>BI</text></svg>" alt="Avatar" />
          <div>
            <h1>Budi Indra Ilham</h1>
            <div class="title">Digital Support ¬∑ Jakarta, Indonesia</div>
            <div class="pill" title="Availability">
              <span>‚úîÔ∏è Available for freelance/contract</span>
            </div>
          </div>
        </div>
        <p>Digital Support & Web Designer focused on EDM: blasting, HTML email layout, image editing, and creating digital assets for campaigns. Experienced at HSBC and cross-team collaboration; ensures consistent rendering (Outlook, Gmail, mobile) and on-time execution.</p>
        <div class="hero-actions">
          <button class="btn" id="copyEmail">üìã Copy Email</button>
          <a class="btn" href="mailto:emailmu@domain.com">‚úâÔ∏è Email</a>
          <a class="btn" href="https://wa.me/6281234567890" target="_blank" rel="noopener">üì± WhatsApp</a>
          <a class="btn" href="https://www.linkedin.com/in/budifelt/" target="_blank" rel="noopener">üíº LinkedIn</a>
          <a class="btn" href="https://github.com/budifelt" target="_blank" rel="noopener">üíª GitHub</a>
        </div>
      </div>
      <div class="card about">
        <h2 class="sec-title"><span class="bar"></span>About</h2>
        <p>Experienced in executing EDM blasts, with strong skills in Web Design (HTML, CSS, JS) and proficiency in Adobe Photoshop and Illustrator. Thrives in challenging environments, always eager to learn and grow while meeting customer needs and company goals. Dedicated, motivated, and a fast learner.</p>
      </div>
    </section>

    <!-- SKILLS -->
    <section class="card">
      <h2 class="sec-title"><span class="bar"></span>Skills</h2>
      <div class="skills" id="skills">
        <span class="badge">HTML5</span>
        <span class="badge">Email HTML</span>
        <span class="badge">EDM / Email Marketing</span>
        <span class="badge">Deliverability</span>
        <span class="badge">Adobe Photoshop</span>
        <span class="badge">Adobe Illustrator</span>
        <span class="badge">Adobe Lightroom</span>
        <span class="badge">Web Development</span>
        <span class="badge">Image Editing</span>
        <span class="badge">Retouching</span>
        <span class="badge">Social Media Ads</span>
        <span class="badge">SMS Blast</span>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section class="card">
      <h2 class="sec-title"><span class="bar"></span>Experience</h2>
      <div class="timeline">
        <div class="item">
          <div class="when">Dec 2024 ‚Äì Present</div>
          <div>
            <div class="where">HSBC ‚Äî Digital Support (Contract) ¬∑ Jakarta ¬∑ Hybrid</div>
            <p>Responsible for EDM blasting, email layouting, image editing, and supporting digital design tasks for emails. Tools: Adobe Photoshop, HTML5, etc.</p>
          </div>
        </div>
        <div class="item">
          <div class="when">Jan 2018 ‚Äì Jan 2020</div>
          <div>
            <div class="where">HSBC Retail Banking and Wealth Management ‚Äî Web Designer (Contract) ¬∑ Greater Jakarta ¬∑ On-site</div>
            <p>Digital Team Marketing: managed daily email blasts; designed and converted offers into HTML for emails; produced social media/WhatsApp/Instagram/sign-off/PIB/ATM banners; image manipulation & retouching; executed SMS blasts.</p>
          </div>
        </div>
        <div class="item">
          <div class="when">Jan 2019 ‚Äì Oct 2019</div>
          <div>
            <div class="where">INDEGLAY ‚Äî Graphic Designer (Part-time) ¬∑ Jakarta Metropolitan Area</div>
            <p>Developed design concepts for social/web/email; created banners & icons; retouched images; collaborated and presented concepts to partners; stayed current with design trends; ensured on-time delivery.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section class="card" id="proyek">
      <div class="sec-header" style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
        <h2 class="sec-title" style="margin:0"><span class="bar"></span>Selected Projects</h2>
        <div class="filters" role="tablist" aria-label="Filter projects">
          <button class="filter active" data-filter="all">All</button>
          <button class="filter" data-filter="web">Web</button>
          <button class="filter" data-filter="design">Design</button>
          <button class="filter" data-filter="data">Data</button>
        </div>
      </div>

      <div class="projects-wrapper">
        <div class="grid" id="projects">
          <article class="project" data-tags="web" data-url="https://budifelt.github.io/beta/">
            <div class="thumb" data-preview-url="https://budifelt.github.io/beta/" data-autopreview="true">
              <iframe class="thumb-frame" src="https://budifelt.github.io/beta/" loading="lazy" referrerpolicy="no-referrer" sandbox="allow-same-origin allow-scripts allow-forms allow-popups"></iframe>
              <div class="thumb-fallback">Project Beta ‚Äî budifelt.github.io/beta</div>
            </div>
            <div class="content">
              <h3>Project Beta</h3>
              <p>EDM helper tools & small utilities<br>
                for helping my works
              </p>
              <div class="tags"><span class="badge">HTML</span><span class="badge">CSS</span><span class="badge">JS</span><span class="badge">GitHub Pages</span></div>
            </div>
          </article>
          <article class="project" data-tags="design">
            <div class="thumb">Thumbnail</div>
            <div class="content">
              <h3>Design System v2</h3>
              <p>Consistent components for web & EDM; reduced rework by 35%.</p>
              <div class="tags"><span class="badge">Figma</span><span class="badge">Design Token</span></div>
            </div>
          </article>
          <article class="project" data-tags="data">
            <div class="thumb">Thumbnail</div>
            <div class="content">
              <h3>Dashboard Email Campaign</h3>
              <p>Open/click tracking; automated weekly reporting.</p>
              <div class="tags"><span class="badge">SQL</span><span class="badge">Power BI</span></div>
            </div>
          </article>
          <!-- Tambah 1 untuk test slider -->
          <article class="project" data-tags="web">
            <div class="thumb">Thumbnail</div>
            <div class="content">
              <h3>Landing Page A/B</h3>
              <p>Experiment layout for CTR uplift.</p>
              <div class="tags"><span class="badge">HTML</span><span class="badge">A/B Test</span></div>
            </div>
          </article>
        </div>
        <button class="slider-arrow left" id="arrowLeft" aria-label="Previous">‚óÄ</button>
        <button class="slider-arrow right" id="arrowRight" aria-label="Next">‚ñ∂</button>
      </div>
      </div>

      <div id="emptyState" style="display:none; padding:10px; color:var(--text-soft);">
        No projects for this tag.
      </div>
    </section>

    <!-- EDUCATION & CERTS -->
    <section class="card">
      <h2 class="sec-title"><span class="bar"></span>Education & Certifications</h2>
      <ul style="margin:0; padding-left: 18px;">
        <li><strong>University X</strong> ‚Äî B.Sc. Information Systems (2017‚Äì2021)</li>
        <li><strong>Google UX Certificate</strong> ‚Äî 2022</li>
      </ul>
    </section>

    <!-- CONTACT -->
    <section class="card" id="contact">
      <h2 class="sec-title"><span class="bar"></span>Contact</h2>
      <div class="contact-grid">
        <div>
          <label for="nama">Name</label>
          <input class="input" id="nama" placeholder="Your name" />
        </div>
        <div>
          <label for="email">Email</label>
          <input class="input" id="email" placeholder="email@domain.com" />
        </div>
        <div style="grid-column: 1/-1;">
          <label for="pesan">Message</label>
          <textarea class="input" id="pesan" placeholder="Type your message..."></textarea>
        </div>
        <div style="grid-column: 1/-1; display:flex; gap:10px;">
          <button class="btn primary" id="kirimBtn">Send via Email</button>
          <button class="btn" type="reset" id="resetBtn">Reset</button>
        </div>
      </div>
    </section>
  </main>

  <footer>
    ¬© <span id="year"></span> Budi Indra Ilham. Built with vanilla HTML/CSS/JS. 
  </footer>

  <!-- Live Preview Modal -->
  <div id="previewModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-header">
        <strong>Live Preview</strong>
        <div style="display:flex; gap:8px; align-items:center;">
          <a id="openNewTab" class="btn sm" target="_blank" rel="noopener">‚Üó Open in new tab</a>
          <button id="closePreview" class="btn sm">‚úñ Close</button>
        </div>
      </div>
      <div class="modal-subhead">Previewing: <span id="previewUrl"></span>. If it doesn‚Äôt display here, the site blocks embedding in iframes ‚Äî please use ‚ÄúOpen in new tab‚Äù.</div>
      <div class="modal-body">
        <iframe id="previewFrame" sandbox="allow-same-origin allow-scripts allow-forms allow-popups" referrerpolicy="no-referrer"></iframe>
      </div>
    </div>
  </div>

  <script>
    // ===== Tema (dark / light) =====
    const themeBtn = document.getElementById('themeBtn');
    const root = document.documentElement;
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) document.documentElement.setAttribute('data-theme', savedTheme);
    themeBtn.addEventListener('click', () => {
      const current = root.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    });

    // ===== Tahun footer =====
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Copy email =====
    const EMAIL = 'emailmu@domain.com';
    document.getElementById('copyEmail')?.addEventListener('click', async (e) => {
      try {
        await navigator.clipboard.writeText(EMAIL);
        const el = e.currentTarget; const txt = el.textContent;
        el.textContent = '‚úÖ Email copied';
        setTimeout(()=> el.textContent = txt, 1400);
      } catch(err){ alert('Failed to copy email'); }
    });

    // ===== Form: kirim via email =====
    document.getElementById('kirimBtn')?.addEventListener('click', () => {
      const nama = document.getElementById('nama').value.trim();
      const email = document.getElementById('email').value.trim();
      const pesan = document.getElementById('pesan').value.trim();
      const body = encodeURIComponent(`Hello,\n\nName: ${nama}\nEmail: ${email}\n\n${pesan}`);
      window.location.href = `mailto:${EMAIL}?subject=Contact%20from%20Website&body=${body}`;
    });
    document.getElementById('resetBtn')?.addEventListener('click', () => {
      document.getElementById('nama').value = '';
      document.getElementById('email').value = '';
      document.getElementById('pesan').value = '';
    });

    // ===== Slider (arrows) + Filter logic =====
    const filters = document.querySelectorAll('.filter');
    const allCards = Array.from(document.querySelectorAll('.project'));
    const prevBtn = document.getElementById('arrowLeft');
    const nextBtn = document.getElementById('arrowRight');
    const wrapper = document.querySelector('.projects-wrapper');
    const emptyState = document.getElementById('emptyState');

    let activeTag = 'all';
    let startIndex = 0; // first visible card index in filtered list

    const getPerPage = () => {
      const w = window.innerWidth;
      if (w >= 1000) return 3; // desktop shows 3
      if (w >= 640) return 2;  // tablet shows 2
      return 1;                // mobile shows 1
    };

    const getFilteredList = () => allCards.filter(c => activeTag === 'all' || c.dataset.tags.includes(activeTag));

    function renderSlider() {
      const perPage = getPerPage();
      const list = getFilteredList();

      // hide all
      allCards.forEach(c => c.style.display = 'none');

      // bounds
      const maxStart = Math.max(0, list.length - perPage);
      if (startIndex > maxStart) startIndex = maxStart;

      // show window
      list.slice(startIndex, startIndex + perPage).forEach(c => c.style.display = 'block');

      // arrows state + visibility
      prevBtn.disabled = startIndex === 0;
      nextBtn.disabled = startIndex >= maxStart;
      const needsNav = list.length > perPage;
      prevBtn.style.display = needsNav ? 'inline-flex' : 'none';
      nextBtn.style.display = needsNav ? 'inline-flex' : 'none';

      // empty state
      emptyState.style.display = list.length ? 'none' : 'block';
    }

    // filter buttons
    filters.forEach(btn => btn.addEventListener('click', () => {
      filters.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      activeTag = btn.dataset.filter;
      startIndex = 0; // reset to beginning when tag changes
      renderSlider();
    }));

    // arrow buttons
    prevBtn.addEventListener('click', () => {
      if (startIndex > 0) {
        startIndex -= 1;
        renderSlider();
      }
    });
    nextBtn.addEventListener('click', () => {
      const perPage = getPerPage();
      const listLen = getFilteredList().length;
      const maxStart = Math.max(0, listLen - perPage);
      if (startIndex < maxStart) {
        startIndex += 1;
        renderSlider();
      }
    });

    // recalc on resize (debounced)
    let rezT;
    window.addEventListener('resize', () => {
      clearTimeout(rezT);
      rezT = setTimeout(renderSlider, 120);
    });

    // Attach modal preview on entire project card
    document.querySelectorAll('.project').forEach(card => {
      const url = card.querySelector('[data-preview-url]')?.dataset.previewUrl || card.dataset.url;
      if (!url) return;
      card.addEventListener('click', (e) => {
        // ignore clicks on links/buttons inside card (if any left)
        if (e.target.closest('a, button')) return;
        previewUrlEl.textContent = url;
        openNewTab.href = url;
        previewFrame.src = url;
        previewModal.classList.add('active');
      });
    });

    // ===== Preview modal =====
    const previewModal = document.getElementById('previewModal');
    const previewFrame = document.getElementById('previewFrame');
    const previewUrlEl = document.getElementById('previewUrl');
    const openNewTab = document.getElementById('openNewTab');
    const closePreview = () => { previewFrame.src = 'about:blank'; previewModal.classList.remove('active'); };
    document.getElementById('closePreview')?.addEventListener('click', closePreview);
    previewModal?.addEventListener('click', (e) => { if (e.target === previewModal) closePreview(); });
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('[data-preview-url]');
      if (!btn) return;
      const url = btn.dataset.previewUrl;
      previewUrlEl.textContent = url;
      openNewTab.href = url;
      previewFrame.src = url;
      previewModal.classList.add('active');
    });

    // ===== Auto preview thumbnails =====
    document.querySelectorAll('.thumb[data-autopreview="true"] .thumb-frame').forEach(frame => {
      const fallback = frame.parentElement.querySelector('.thumb-fallback');
      frame.addEventListener('load', () => {
        fallback.style.transition = 'opacity .2s ease';
        fallback.style.opacity = '0';
        setTimeout(()=> fallback.style.display = 'none', 220);
      });
    });

    // initial render
    renderSlider();
  </script>
</body>
</html>
